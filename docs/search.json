[{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 Bristol Vaccine Centre Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/articles/rsurvstat.html","id":"age-stratification-example","dir":"Articles","previous_headings":"","what":"Age stratification example","title":"Getting started","text":"Get data stratified age: Re-band age groups plot:  Recover population denominator:","code":"tmp = rsurvstat::get_timeseries(   diseases$Enterovirus,    \"Count\",    age_group = age_groups$zero_fifteen) tmp2 = tmp %>% dplyr::filter(!is.na(date)) ggplot(tmp2, aes(x=date, y=count)) + geom_line() + facet_wrap(~age_name) tmp3 = tmp %>% fit_population()   ggplot2::ggplot(   tmp3 %>% mutate(weekly_incidence_per_100K = count/population*100000),   aes(x=date, y=weekly_incidence_per_100K, colour=age_name) ) + geom_line()"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/articles/rsurvstat.html","id":"geography","dir":"Articles","previous_headings":"","what":"Geography","title":"Getting started","text":"Data can retrieved region. 3 levels detail, state, nuts granular county. example incidence NUTS2 level (legend hidden):  Matching sf maps supplied data, can joined SurvStat output:","code":"covid_by_nuts = get_timeseries(disease = diseases$`COVID-19`,                 measure=\"Incidence\",                 years = 2020:2022,                geography = \"nuts\"                )  ggplot2::ggplot(   covid_by_nuts,   aes(x=date, y=incidence, colour=geo_name) ) + geom_line() + guides(colour = guide_none()) # Pick a set of dates around the peak: peak_date = covid_by_nuts$date[covid_by_nuts$incidence == max(covid_by_nuts$incidence)] peak_date = peak_date+c(-14,-7, 0, 7) peak = covid_by_nuts %>% filter(date %in% peak_date)  library(sf) ggplot(   NutsKey71Map %>% inner_join(peak, by=c(\"Id\" = \"geo_code\")),   aes(fill = incidence) )+geom_sf()+facet_wrap(~date)"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/articles/rsurvstat.html","id":"disease-subtype","dir":"Articles","previous_headings":"","what":"Disease subtype:","title":"Getting started","text":"","code":"pneumo_by_serotype = get_timeseries(   disease = diseases$`Pneumococcus (IfSG`,    disease_subtype = TRUE,    years = 2024  )  ggplot(   pneumo_by_serotype %>% group_by(disease_subtype_name) %>%      summarise(count=sum(count)) %>% filter(startsWith(disease_subtype_name,\"Sero\")),   aes(x=disease_subtype_name, y=count) )+geom_bar(stat=\"identity\")+theme(axis.text.x = element_text(angle = 45,hjust=1))"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Robert Challen. Author, maintainer.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Challen R (2025). rsurvstat: Download Timeseries SurvStat (Robert Koch Institute). R package version 0.1.0, https://bristol-vaccine-centre.github.io/rsurvstat/index.html.","code":"@Manual{,   title = {rsurvstat: Download Timeseries from SurvStat (Robert Koch Institute)},   author = {Robert Challen},   year = {2025},   note = {R package version 0.1.0},   url = {https://bristol-vaccine-centre.github.io/rsurvstat/index.html}, }"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/index.html","id":"rsurvstat","dir":"","previous_headings":"","what":"Download Timeseries from SurvStat (Robert Koch Institute)","title":"Download Timeseries from SurvStat (Robert Koch Institute)","text":"Get case count data Robert Koch Institute SurvStat service.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/BerlinMap.html","id":null,"dir":"Reference","previous_headings":"","what":"A Berlin outline map dataset — BerlinMap","title":"A Berlin outline map dataset — BerlinMap","text":"Berlin outline map dataset","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/BerlinMap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A Berlin outline map dataset — BerlinMap","text":"","code":"data(BerlinMap)"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/BerlinMap.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"A Berlin outline map dataset — BerlinMap","text":"sf dataframe containing following columns: Name (character) - Name column 1 rows","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/CountyKey71Map.html","id":null,"dir":"Reference","previous_headings":"","what":"The CountyKey71Map dataset — CountyKey71Map","title":"The CountyKey71Map dataset — CountyKey71Map","text":"matches CountyKey71 dimension SurvStat. 400 \"Stadtkreis\" \"Landkreise\" administrative regions Germany, plus 12 Berlin boroughs (\"Bezirke\") replace Berlin Kriese (Id: 11000). boroughs sequential Ids [11001] [11012]","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/CountyKey71Map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The CountyKey71Map dataset — CountyKey71Map","text":"","code":"data(CountyKey71Map)"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/CountyKey71Map.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"The CountyKey71Map dataset — CountyKey71Map","text":"sf dataframe containing following columns: Id - full hierarchical value Id column ComponentId - ComponentId column HierarchyId - Id Hierarchy value applies Name - description item grouping allowed. 411 rows","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/FedStateKey71Map.html","id":null,"dir":"Reference","previous_headings":"","what":"The FedStateKey71Map dataset. — FedStateKey71Map","title":"The FedStateKey71Map dataset. — FedStateKey71Map","text":"matches FedStateKey71 dimension SurvStat. 16 federal states Germany.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/FedStateKey71Map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The FedStateKey71Map dataset. — FedStateKey71Map","text":"","code":"data(FedStateKey71Map)"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/FedStateKey71Map.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"The FedStateKey71Map dataset. — FedStateKey71Map","text":"sf dataframe containing following columns: Id - full hierarchical value Id column ComponentId - ComponentId column HierarchyId - Id Hierarchy value applies Name - description item 16 rows","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/NutsKey71Map.html","id":null,"dir":"Reference","previous_headings":"","what":"The NutsKey71Map dataset — NutsKey71Map","title":"The NutsKey71Map dataset — NutsKey71Map","text":"matches NutsKey71 dimension SurvStat. 38 NUTS2 level administrative regions Germany.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/NutsKey71Map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The NutsKey71Map dataset — NutsKey71Map","text":"","code":"data(NutsKey71Map)"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/NutsKey71Map.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"The NutsKey71Map dataset — NutsKey71Map","text":"sf dataframe containing following columns: Id - full hierarchical value Id column ComponentId - ComponentId column HierarchyId - Id Hierarchy value applies Name - description item 38 rows","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/age_groups.html","id":null,"dir":"Reference","previous_headings":"","what":"SurvStat age group list — age_groups","title":"SurvStat age group list — age_groups","text":"single_year children_coarse: 0, 15, 20, 25, 30, 40, 50, 60, 70, 80 years children_medium: 0, 5, 10, 15, 20, 25, 30, 40, 50, 60, 70, 80 years children_fine: 0, 1, 2, 3, 4, 5, 10, 15, 20, 25, 30, 40, 50, 60, 70, 80 years five_year: 0, 1, 5, 10, 15, 20, … , 75, 80 years zero_fifteen: 0, 15+ years zero_fifteen_sixty: 0, 15, 60+ years zero_one_4_20_40_60_80: 0, 4, 20, 40, 60, 80+ years","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/age_groups.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SurvStat age group list — age_groups","text":"","code":"age_groups"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/age_groups.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"SurvStat age group list — age_groups","text":"object class list length 8.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/age_groups.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"SurvStat age group list — age_groups","text":"https://survstat.rki.de/Content/Query/Create.aspx","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/cash-.survstat_option.html","id":null,"dir":"Reference","previous_headings":"","what":"Survstat option accessor — $.survstat_option","title":"Survstat option accessor — $.survstat_option","text":"Survstat options values may children.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/cash-.survstat_option.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Survstat option accessor — $.survstat_option","text":"","code":"# S3 method for class 'survstat_option' x$y"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/cash-.survstat_option.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Survstat option accessor — $.survstat_option","text":"x options y item","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/cash-.survstat_option.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Survstat option accessor — $.survstat_option","text":"value list item error exist","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/commands.html","id":null,"dir":"Reference","previous_headings":"","what":"Commands supported by the SurvStat service — commands","title":"Commands supported by the SurvStat service — commands","text":"services support 3 methods. 3 different resolution levels geospatial data","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/commands.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Commands supported by the SurvStat service — commands","text":"","code":"commands  return_measures  geography_resolution"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/commands.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Commands supported by the SurvStat service — commands","text":"object class list length 8. object class list length 3. object class list length 3.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/commands.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Commands supported by the SurvStat service — commands","text":"https://survstat.rki.de/Content/Query/Create.aspx https://survstat.rki.de/Content/Query/Create.aspx https://survstat.rki.de/Content/Query/Create.aspx","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/cubes.html","id":null,"dir":"Reference","previous_headings":"","what":"Data sources in the SurvStat service — cubes","title":"Data sources in the SurvStat service — cubes","text":"Data sources SurvStat service","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/cubes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data sources in the SurvStat service — cubes","text":"","code":"cubes"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/cubes.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Data sources in the SurvStat service — cubes","text":"object class list length 3.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/cubes.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Data sources in the SurvStat service — cubes","text":"https://survstat.rki.de/Content/Query/Create.aspx","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/diseases.html","id":null,"dir":"Reference","previous_headings":"","what":"SurvStat disease list — diseases","title":"SurvStat disease list — diseases","text":"SurvStat disease list","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/diseases.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SurvStat disease list — diseases","text":"","code":"diseases"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/diseases.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"SurvStat disease list — diseases","text":"object class list length 121.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/diseases.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"SurvStat disease list — diseases","text":"https://survstat.rki.de/Content/Query/Create.aspx","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-DollarNames.survstat_option.html","id":null,"dir":"Reference","previous_headings":"","what":"Support for auto suggests on survstat_options — .DollarNames.survstat_option","title":"Support for auto suggests on survstat_options — .DollarNames.survstat_option","text":"Support auto suggests survstat_options","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-DollarNames.survstat_option.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Support for auto suggests on survstat_options — .DollarNames.survstat_option","text":"","code":"# S3 method for class 'survstat_option' .DollarNames(x, pattern)"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-DollarNames.survstat_option.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Support for auto suggests on survstat_options — .DollarNames.survstat_option","text":"x survstat_option pattern matching pattern","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-DollarNames.survstat_option.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Support for auto suggests on survstat_options — .DollarNames.survstat_option","text":"names children","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-check_curl.html","id":null,"dir":"Reference","previous_headings":"","what":"Check for supported curl version — .check_curl","title":"Check for supported curl version — .check_curl","text":"Check supported curl version","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-check_curl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check for supported curl version — .check_curl","text":"","code":".check_curl()"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-check_curl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check for supported curl version — .check_curl","text":"boolean (+/- warning)","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-check_curl.html","id":"unit-tests","dir":"Reference","previous_headings":"","what":"Unit tests","title":"Check for supported curl version — .check_curl","text":"","code":".check_curl()"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-df_to_list_of_lists.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a nested dataframe to a multilevel list — .df_to_list_of_lists","title":"Convert a nested dataframe to a multilevel list — .df_to_list_of_lists","text":"Convert nested dataframe multilevel list","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-df_to_list_of_lists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a nested dataframe to a multilevel list — .df_to_list_of_lists","text":"","code":".df_to_list_of_lists(df, ...)"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-df_to_list_of_lists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a nested dataframe to a multilevel list — .df_to_list_of_lists","text":"df nested dataframe ... Named arguments passed .transpose x data.frame row_list .fix collapse expand names redundant multi-level row_lists. Either FALSE string join split names multi-level list ... used","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-df_to_list_of_lists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a nested dataframe to a multilevel list — .df_to_list_of_lists","text":"list lists","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-df_to_list_of_lists.html","id":"unit-tests","dir":"Reference","previous_headings":"","what":"Unit tests","title":"Convert a nested dataframe to a multilevel list — .df_to_list_of_lists","text":"","code":"iris_list = .df_to_list_of_lists(datasets::iris) # TODO: iris_list has lost Petal.Length as it is interpreting Petal.Width as # nested item and it overwrites Petal.Length rather than merging with it.  testthat::expect_equal(   iris_list[[1]]$Species,   iris$Species[[1]] )  mtcars_nest = datasets::mtcars    dplyr::mutate(name = rownames(.))    tidyr::nest(details = -c(cyl,gear))  mtcars_list = mtcars_nest   mtcars_unnest = mtcars_list   testthat::expect_equal(   mtcars_list[[1]]$details[[1]]$name,   mtcars_nest$details[[1]]$name[[1]] )"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-list_of_lists_to_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a multilevel list to a nested dataframe — .list_of_lists_to_df","title":"Convert a multilevel list to a nested dataframe — .list_of_lists_to_df","text":"Convert multilevel list nested dataframe","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-list_of_lists_to_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a multilevel list to a nested dataframe — .list_of_lists_to_df","text":"","code":".list_of_lists_to_df(lst, ...)"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-list_of_lists_to_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a multilevel list to a nested dataframe — .list_of_lists_to_df","text":"lst multilevel list ... Named arguments passed .transpose x data.frame row_list .fix collapse expand names redundant multi-level row_lists. Either FALSE string join split names multi-level list ... used","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-list_of_lists_to_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a multilevel list to a nested dataframe — .list_of_lists_to_df","text":"dataframe sublist nested dataframe","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-list_of_lists_to_df.html","id":"unit-tests","dir":"Reference","previous_headings":"","what":"Unit tests","title":"Convert a multilevel list to a nested dataframe — .list_of_lists_to_df","text":"","code":"iris_list = .df_to_list_of_lists(iris, .fix=FALSE) iris2 = .list_of_lists_to_df(iris_list, .fix=FALSE)  testthat::expect_equal(datasets::iris, as.data.frame(iris2))  mtcars_nest = datasets::mtcars    dplyr::mutate(name = rownames(.))    tidyr::nest(details = -c(cyl,gear))  mtcars_list = mtcars_nest   mtcars_nest2 = mtcars_list   testthat::expect_equal(   mtcars_nest2$details[[2]],   mtcars_nest$details[[2]] )  # test unequal length vector column is mapped to list of vectors # and multiply named nests are treated as rows testlist = list(    row = list(a=1:5, b=\"x\"),    row = list(a=2:4, b=\"y\"),    row = list(a=3, b=\"z\") ) testdf = testlist  testthat::expect_equal(testdf$b, c(\"x\", \"y\", \"z\")) testthat::expect_equal(testdf$a[[2]], 2:4)"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-transpose.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform a nested dataframe to / from a row by row list — .transpose","title":"Transform a nested dataframe to / from a row by row list — .transpose","text":"Data frames column lists, may nested dataframes. function transforms data frame row based list named sub lists one entry per dataframe column (row_list). alternative converts row_list back nested data frame","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-transpose.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform a nested dataframe to / from a row by row list — .transpose","text":"","code":".transpose(x, ..., .fix = \".\")"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-transpose.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transform a nested dataframe to / from a row by row list — .transpose","text":"x data.frame row_list ... used .fix collapse expand names redundant multi-level row_lists. Either FALSE string join split names multi-level list ","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-transpose.html","id":"unit-tests","dir":"Reference","previous_headings":"","what":"Unit tests","title":"Transform a nested dataframe to / from a row by row list — .transpose","text":"","code":"# create a test nested data frame:  mtcars_nest = datasets::mtcars    dplyr::mutate(name = rownames(.))    tidyr::nest(by_carb = -c(cyl,gear,carb))    tidyr::nest(by_cyl_and_gear = -c(cyl,gear))  mtcars_list = mtcars_nest   mtcars_nest2 = mtcars_list   testthat::expect_equal(mtcars_nest, mtcars_nest2)"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-tree.html","id":null,"dir":"Reference","previous_headings":"","what":"Tree printing method for list objects — .tree","title":"Tree printing method for list objects — .tree","text":"Tree printing method list objects","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-tree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tree printing method for list objects — .tree","text":"","code":".tree(x, max_levels = 6, ...)"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/dot-tree.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tree printing method for list objects — .tree","text":"x list max_levels maximum number levels show ... Additional arguments: max_width number items horizontally show truncating. max_length number items vertically show truncating. others passed format(...)","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/fit_population.html","id":null,"dir":"Reference","previous_headings":"","what":"Infer and fit a population model from SurvStat output — fit_population","title":"Infer and fit a population model from SurvStat output — fit_population","text":"SurvStat can queried count incidence. combination metrics queried across whole range disease notifications given year can infer stratified population size, SurvStat using calculate incidence. simply modelled local polynomial time allow us fill weekly population denominators.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/fit_population.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Infer and fit a population model from SurvStat output — fit_population","text":"","code":"fit_population(count_df, .progress = TRUE)  infer_population(   age_group = NULL,   geography = NULL,   years = NULL,   .progress = TRUE )"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/fit_population.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Infer and fit a population model from SurvStat output — fit_population","text":"count_df dataframe output get_timeseries() .progress default progress bar shown, may important many downloads needed fulfil request. can disabled . age_group (optional) age group interest, see rsurvstat::age_groups geography (optional) one \"state\", \"nuts\", \"county\" define resolution query. accept sf map subset (unlike get_timeseries()). years (optional) vector years limit response .","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/fit_population.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Infer and fit a population model from SurvStat output — fit_population","text":"count_df dataframe additional population column dataframe geography, age grouping, year population columns","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/fit_population.html","id":"functions","dir":"Reference","previous_headings":"","what":"Functions","title":"Infer and fit a population model from SurvStat output — fit_population","text":"infer_population(): Query SurvStat data impute population denominator","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/fit_population.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Infer and fit a population model from SurvStat output — fit_population","text":"","code":"get_timeseries(   disease = diseases$`COVID-19`,   geography = \"state\" ) %>% fit_population() %>% dplyr::glimpse() #> Rows: 4,883 #> Columns: 7 #> Groups: geo_name, geo_code, disease_name, disease_code [16] #> $ geo_name     <chr> \"Baden-Württemberg\", \"Baden-Württemberg\", \"Baden-Württemb… #> $ geo_code     <chr> \"[DeutschlandNodes].[Kreise71Web].[FedStateKey71].&[08]\",… #> $ disease_name <chr> \"COVID-19\", \"COVID-19\", \"COVID-19\", \"COVID-19\", \"COVID-19… #> $ disease_code <chr> \"[KategorieNz].[Krankheit DE].&[COVID-19]\", \"[KategorieNz… #> $ date         <date> 2020-02-24, 2020-03-02, 2020-03-09, 2020-03-16, 2020-03-… #> $ count        <dbl> 21, 213, 1337, 4467, 7238, 7523, 5305, 3210, 2438, 1229, … #> $ population   <dbl> 11116513, 11115901, 11115274, 11114633, 11113977, 1111330…   infer_population(years=2020:2025) %>% dplyr::glimpse() #> Rows: 6 #> Columns: 2 #> $ population <dbl> 83577373, 83577407, 84669475, 84358840, 83237155, 83154897 #> $ year       <int> 2025, 2024, 2023, 2022, 2021, 2020"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/get_timeseries.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve time series data from the RKI SurvStat api. — get_timeseries","title":"Retrieve time series data from the RKI SurvStat api. — get_timeseries","text":"function gets weekly timeseries disease count incidence data RKI SurvStat web API. timeseries can stratified combination age, geography, disease, disease subtype. Queries API cached paged, obviously multidimensional extracts potential need lot downloading.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/get_timeseries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve time series data from the RKI SurvStat api. — get_timeseries","text":"","code":"get_timeseries(   disease = NULL,   measure = c(\"Count\", \"Incidence\"),   ...,   age_group = NULL,   age_range = c(0, Inf),   disease_subtype = FALSE,   years = NULL,   geography = NULL,   trim_zeros = c(\"leading\", \"both\", \"none\"),   .progress = TRUE )"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/get_timeseries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve time series data from the RKI SurvStat api. — get_timeseries","text":"disease disease interest, see rsurvstat::diseases. technically optional, omitted counts diseases returned. measure one \"Count\" (default) \"Incidence\" ... used, must empty. age_group (optional) age group interest, see rsurvstat::age_groups age_range (optional) length 2 vector minimum maximum ages consider disease_subtype TRUE returned count broken disease pathogen subtype (assuming disease provided). years (optional) vector years limit response . geography (optional) geographical breakdown can given character must one state, nuts, county align 16 region FedStateKey71Map, 38 region NutsKey71Map, 411 region CountyKey71Map data respectively. Alternatively can given subset one maps, sf dataframe case subset regions returned. trim_zeros get rid zero counts. Either \"\" (start end), \"leading\" (start - default) \"none\". .progress default progress bar shown, may important many downloads needed fulfil request. can disabled .","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/get_timeseries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve time series data from the RKI SurvStat api. — get_timeseries","text":"data frame least date (weekly), one count incidence columns. likely also disease_name disease_code columns, age_name, age_code, age_low, age_high, geo_code, geo_name, disease_subtype_code, disease_subtype_name depending options. dataframe grouped make sure group unique timeseries.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/get_timeseries.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve time series data from the RKI SurvStat api. — get_timeseries","text":"","code":"get_timeseries(   diseases$`COVID-19`,   measure = \"Count\",   age_group = age_groups$children_coarse ) #> # A tibble: 3,376 × 8 #> # Groups:   age_name, age_code, disease_name, disease_code, age_low, age_high #> #   [11] #>    age_name age_code count date       disease_name disease_code age_low age_high #>    <chr>    <chr>    <dbl> <date>     <chr>        <chr>          <dbl>    <dbl> #>  1 0–14     [AlterP…     1 2020-02-03 COVID-19     [KategorieN…       0       15 #>  2 0–14     [AlterP…     2 2020-02-10 COVID-19     [KategorieN…       0       15 #>  3 0–14     [AlterP…     1 2020-02-17 COVID-19     [KategorieN…       0       15 #>  4 0–14     [AlterP…     4 2020-02-24 COVID-19     [KategorieN…       0       15 #>  5 0–14     [AlterP…    39 2020-03-02 COVID-19     [KategorieN…       0       15 #>  6 0–14     [AlterP…   197 2020-03-09 COVID-19     [KategorieN…       0       15 #>  7 0–14     [AlterP…   580 2020-03-16 COVID-19     [KategorieN…       0       15 #>  8 0–14     [AlterP…   910 2020-03-23 COVID-19     [KategorieN…       0       15 #>  9 0–14     [AlterP…  1018 2020-03-30 COVID-19     [KategorieN…       0       15 #> 10 0–14     [AlterP…   813 2020-04-06 COVID-19     [KategorieN…       0       15 #> # ℹ 3,366 more rows  get_timeseries(   diseases$`COVID-19`,   measure = \"Count\",   age_group = age_groups$children_coarse,   geography = rsurvstat::FedStateKey71Map[1:10,] ) #> # A tibble: 33,258 × 10 #> # Groups:   age_name, age_code, disease_name, disease_code, geo_name, geo_code, #> #   age_low, age_high [110] #>    age_name age_code         count date       disease_name disease_code geo_name #>    <chr>    <chr>            <dbl> <date>     <chr>        <chr>        <chr>    #>  1 0–14     [AlterPerson80]…     1 2020-02-17 COVID-19     [KategorieN… Nordrhe… #>  2 0–14     [AlterPerson80]…     4 2020-02-24 COVID-19     [KategorieN… Nordrhe… #>  3 0–14     [AlterPerson80]…    12 2020-03-02 COVID-19     [KategorieN… Nordrhe… #>  4 0–14     [AlterPerson80]…    23 2020-03-09 COVID-19     [KategorieN… Nordrhe… #>  5 0–14     [AlterPerson80]…    92 2020-03-16 COVID-19     [KategorieN… Nordrhe… #>  6 0–14     [AlterPerson80]…   122 2020-03-23 COVID-19     [KategorieN… Nordrhe… #>  7 0–14     [AlterPerson80]…   175 2020-03-30 COVID-19     [KategorieN… Nordrhe… #>  8 0–14     [AlterPerson80]…   151 2020-04-06 COVID-19     [KategorieN… Nordrhe… #>  9 0–14     [AlterPerson80]…   113 2020-04-13 COVID-19     [KategorieN… Nordrhe… #> 10 0–14     [AlterPerson80]…   150 2020-04-20 COVID-19     [KategorieN… Nordrhe… #> # ℹ 33,248 more rows #> # ℹ 3 more variables: geo_code <chr>, age_low <dbl>, age_high <dbl>  get_timeseries(   measure = \"Count\",   years = 2024 ) #> # A tibble: 3,861 × 5 #> # Groups:   disease_name, disease_code [80] #>    disease_name  disease_code                             count date        year #>    <chr>         <chr>                                    <dbl> <date>     <dbl> #>  1 Acinetobacter [PathogenOut].[KategorieNz].[Krankheit …    16 2024-01-08  2024 #>  2 Acinetobacter [PathogenOut].[KategorieNz].[Krankheit …    22 2024-01-15  2024 #>  3 Acinetobacter [PathogenOut].[KategorieNz].[Krankheit …    26 2024-01-22  2024 #>  4 Acinetobacter [PathogenOut].[KategorieNz].[Krankheit …    16 2024-01-29  2024 #>  5 Acinetobacter [PathogenOut].[KategorieNz].[Krankheit …    14 2024-02-05  2024 #>  6 Acinetobacter [PathogenOut].[KategorieNz].[Krankheit …    14 2024-02-12  2024 #>  7 Acinetobacter [PathogenOut].[KategorieNz].[Krankheit …    16 2024-02-19  2024 #>  8 Acinetobacter [PathogenOut].[KategorieNz].[Krankheit …     9 2024-02-26  2024 #>  9 Acinetobacter [PathogenOut].[KategorieNz].[Krankheit …    14 2024-03-04  2024 #> 10 Acinetobacter [PathogenOut].[KategorieNz].[Krankheit …    11 2024-03-11  2024 #> # ℹ 3,851 more rows"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/languages.html","id":null,"dir":"Reference","previous_headings":"","what":"Languages supported by the SurvStat service — languages","title":"Languages supported by the SurvStat service — languages","text":"Languages supported SurvStat service","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/languages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Languages supported by the SurvStat service — languages","text":"","code":"languages"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/languages.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Languages supported by the SurvStat service — languages","text":"object class list length 2.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/languages.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Languages supported by the SurvStat service — languages","text":"https://survstat.rki.de/Content/Query/Create.aspx","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/rappdirs_user_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Path to user cache directory — rappdirs_user_cache_dir","title":"Path to user cache directory — rappdirs_user_cache_dir","text":"functions uses R_USER_CACHE_DIR set. Otherwise, follow platform conventions. Typical user cache directories : Mac OS X: ~/Library/Caches/<AppName> Linux: ~/.cache/<AppName> Win XP: C:\\\\Documents Settings\\\\<username>\\\\Local Settings\\\\Application Data\\\\<AppAuthor>\\\\<AppName>\\\\Cache Vista: C:\\\\Users\\\\<username>\\\\AppData\\\\Local\\\\<AppAuthor>\\\\<AppName>\\\\Cache","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/rappdirs_user_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Path to user cache directory — rappdirs_user_cache_dir","text":"","code":"rappdirs_user_cache_dir(   appname = NULL,   appauthor = appname,   version = NULL,   opinion = TRUE,   expand = TRUE,   os = NULL )"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/rappdirs_user_cache_dir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Path to user cache directory — rappdirs_user_cache_dir","text":"appname name application. NULL, just system directory returned. appauthor (required used Windows) name appauthor distributing body application. Typically owning company name. falls back appname. version optional version path element append path. might want use want multiple versions app able run independently. used, typically \"<major>.<minor>\". applied appname NULL. opinion (logical) Use FALSE disable appending Cache Windows. See discussion . expand TRUE (default) expand R_LIBS specifiers equivalents. See R_LIBS() list possibly specifiers. os Operating system whose conventions used construct requested directory. Possible values \"win\", \"mac\", \"unix\". NULL (default) current OS used.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/rappdirs_user_cache_dir.html","id":"opinion","dir":"Reference","previous_headings":"","what":"Opinion","title":"Path to user cache directory — rappdirs_user_cache_dir","text":"Windows suggestion MSDN docs local settings go CSIDL_LOCAL_APPDATA directory. identical non-roaming app data dir. apps typically put cache data somewhere directory rappdirs_user_cache_dir() appends Cache CSIDL_LOCAL_APPDATA value, unless opinion = FALSE.","code":""},{"path":[]},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/rappdirs_user_cache_dir.html","id":"unit-tests","dir":"Reference","previous_headings":"","what":"Unit tests","title":"Path to user cache directory — rappdirs_user_cache_dir","text":"","code":"rappdirs_cache_dir(\"rappdirs\")"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/set_cache_settings.html","id":null,"dir":"Reference","previous_headings":"","what":"Set options for the rsurvstat cache — set_cache_settings","title":"Set options for the rsurvstat cache — set_cache_settings","text":"default successful requests SurvStat cached 7 days prevent repeated querying service. stored usual R package cache location default (e.g. \"~/.cache/rsurvstat\" mac / linux). Caching can switched altogether.","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/set_cache_settings.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set options for the rsurvstat cache — set_cache_settings","text":"","code":"set_cache_settings(..., active = NULL, dir = NULL, stale = NULL)"},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/set_cache_settings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set options for the rsurvstat cache — set_cache_settings","text":"... can also submit settings named list. active boolean (optional), set FALSE disable caching dir file path (optional), location cache stale numeric (optional), number days cached item considered daye","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/set_cache_settings.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set options for the rsurvstat cache — set_cache_settings","text":"old cache settings list","code":""},{"path":"https://bristol-vaccine-centre.github.io/rsurvstat/reference/set_cache_settings.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set options for the rsurvstat cache — set_cache_settings","text":"","code":"old_settings = set_cache_settings(active = FALSE) set_cache_settings(old_settings)"}]
